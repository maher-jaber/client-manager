<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
    <div class="container-fluid">
        <a class="navbar-brand" href="{{ path('app_client_index') }}">ClientManager</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav">
                {% if app.user %}
                    <li class="nav-item me-3">
                        <span class="nav-link text-white">
                            <i class="bi bi-person-circle me-1"></i>
                            {{ app.user.email }}
                        </span>
                    </li>
                    <li class="nav-item">
                        <a class="btn btn-outline-light" href="{{ path('app_logout') }}">
                            <i class="bi bi-box-arrow-right me-1"></i> Déconnexion
                        </a>
                    </li>
                {% else %}
                    <li class="nav-item">
                        <a class="nav-link text-white" href="{{ path('app_login') }}">Connexion</a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
{% for label, messages in app.flashes %}
    {% for message in messages %}
        <div class="alert alert-{{ label }} alert-dismissible fade show mt-3" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fermer"></button>
        </div>
    {% endfor %}
{% endfor %}
<script>
    // Disparition automatique après 5 secondes
    setTimeout(function () {
        const alerts = document.querySelectorAll('.alert');
        alerts.forEach(function(alert) {
            // Ajoute l’effet de fermeture Bootstrap
            alert.classList.remove('show');
            alert.classList.add('fade');
            setTimeout(() => alert.remove(), 300); // Nettoyage final
        });
    }, 5000); // 5 secondes
</script>