{# templates/pagination/_sortable_link.html.twig #}
{# Custom sortable link for KnpPaginator using Bootstrap icons #}

{% set isSorted = app.request.get(sortFieldParameterName) == sort %}
{% set direction = app.request.get(sortDirectionParameterName) %}
{% set iconClass = 'ms-1' %}

<a href="{{ path(app.request.attributes.get('_route'), app.request.query.all | merge({
    (sortFieldParameterName): sort,
    (sortDirectionParameterName): (isSorted and direction == 'asc') ? 'desc' : 'asc'
})) }}"
   class="text-decoration-none">
    {{ title }}
    {% if isSorted %}
        {% if direction == 'asc' %}
            <i class="bi bi-arrow-up {{ iconClass }}" aria-label="Tri ascendant"></i>
        {% else %}
            <i class="bi bi-arrow-down {{ iconClass }}" aria-label="Tri descendant"></i>
        {% endif %}
    {% else %}
        <i class="bi bi-arrow-up-down {{ iconClass }} text-muted" aria-hidden="true"></i>
    {% endif %}
</a>
